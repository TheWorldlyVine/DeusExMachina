application {
  name = "novel-document-service-test"
  version = "1.0.0"
}

gcp {
  project {
    id = "test-project"
  }
}

firestore {
  database {
    id = "test-database"
  }
  collections {
    documents = "test-novel-documents"
    chapters = "test-novel-chapters"
    scenes = "test-novel-scenes"
    versions = "test-novel-versions"
    metadata = "test-novel-metadata"
  }
}

storage {
  bucket {
    name = "test-novel-documents"
  }
  chunk {
    sizeKb = 256
    compressionEnabled = true
  }
}

document {
  limits {
    maxSizeMb = 50
    maxChapters = 100
    maxScenesPerChapter = 50
    maxWordsPerScene = 10000
  }
  versioning {
    enabled = true
    maxVersions = 10
  }
  cache {
    ttl = 1800
    maxSize = 100
  }
}

chunking {
  strategy = "SMART"
  overlap = 100
}

monitoring {
  metrics {
    enabled = false
    prefix = "test.novel.document.service"
  }
  tracing {
    enabled = false
    samplingRate = 0.1
  }
}

logging {
  level {
    root = "INFO"
    "com.deusexmachina" = "DEBUG"
  }
  pattern {
    console = "%d{ISO8601} [%thread] %-5level %logger{36} - %msg%n"
  }
}

cors {
  allowedOrigins = [
    "https://*.deusexmachina.com",
    "http://localhost:3000"
  ]
  allowedMethods = [
    "GET",
    "POST",
    "PUT", 
    "DELETE",
    "OPTIONS"
  ]
  allowedHeaders = [
    "Authorization",
    "Content-Type",
    "X-Request-ID"
  ]
  maxAge = 3600
}